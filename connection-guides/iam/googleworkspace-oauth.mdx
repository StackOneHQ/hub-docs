---
title: "Google Workspace"
description: "Follow these steps to connect Google Workspace via the StackOne Hub successfully."
---

import IntegrationFooter from "/snippets/integration-footer.mdx";

<Warning>
  Ensure that your Google Workspace account has Admin or Owner privileges.
</Warning>

If you've been directed to StackOne to integrate with Google Workspace, the following steps will help you understand the process and any necessary actions to configure a successful integration.

## Log in to Google Workspace

Log in to your Google Workspace Admin at https://admin.google.com/login

<Frame>
    <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Log in" src="/images/googleworkspace/image1.png" />
</Frame>

## Get your Google Workspace Domain

Each connection will be associated with a single Google Workspace domain. If you wish to connect multiple domains, create a connection for each domain.

<Steps>
    <Step title="Navigate to Domains List">
        In the left navigation menu, click **Account > Domains > Manage domains**

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Navigate to Domains List" src="/images/googleworkspace/image2.png" />
    </Step>

    <Step title="Copy Your Domain">
        Copy the **Domain** you wish to connect from the displayed list. Store this to be used in later steps.

            <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Copy Your Domain" src="/images/googleworkspace/image3.png" />
    </Step>
</Steps>

## Enable the Admin SDK API

Google requires manually enabling APIs for your account. The [Admin SDK API](https://developers.google.com/admin-sdk) provides the underlying endpoints for this IAM connection.

<Steps>
    <Step title="Go to Your Google Cloud Console">
        Go to your Google Cloud Console at https://console.cloud.google.com/

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Navigate to the Google Cloud Console" src="/images/googleworkspace/image4.png" />
    </Step>

    <Step title="Navigate to the API Library">
        In the left navigation menu, click **APIs & Services > Library**

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Navigate to the API Library" src="/images/googleworkspace/image5.png" />
    </Step>

    <Step title="Locate the Admin SDK API">
        Using the search bar, enter a search for *"admin sdk"*. Click the **Admin SDK API** result.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Locate the Admin SDK API" src="/images/googleworkspace/image6.png" />
    </Step>

    <Step title="Enable the Admin SDK API">
        Click the **Enable** button to enable the Admin SDK API for your organization.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Enable the Admin SDK API" src="/images/googleworkspace/image7.png" />
    </Step>
</Steps>

## Create New OAuth Client Credentials

This connection will authenticate on behalf of a registered OAuth Client in Google Workspace.
<Steps>
    
    <Step title="Navigate to Admin SDK API Credentials">
        In the Admin SDK API **Manage** page, scroll down to click **Credentials**.

        <Frame>
            <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Navigate to Admin SDK API Credentials" src="/images/googleworkspace/image8.png" />
        </Frame>
    </Step>

    
    <Step title="Create New OAuth Client ID">
        Under *Credentials*, click **Create Credentials > OAuth client ID**

        <Frame>
            <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Create New OAuth Client ID" src="/images/googleworkspace/image9.png" />
        </Frame>
    </Step>

    
    <Step title="Enter Application Details">
        Under *Create OAuth client ID*, enter the following details:

        - Application type: **Web application**
        - Name: Enter a name for the new application
        - Authorized redirect URIs: `https://api.stackone.com/connect/oauth2/googleworkspace_iam/callback`

        Then click the **Create** button at the bottom to proceed.

        <Frame>
            <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Enter Application Details" src="/images/googleworkspace/image10.png" />
        </Frame>

        <Frame>
            <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Enter Redirect URI" src="/images/googleworkspace/image11.png" />
        </Frame>
    </Step>
    
    <Step title="Copy Application Credentials">
        The new application's **Client ID** and **Client Secret** will be displayed. **Copy** these values and store them securely to be used in the next step.

        <Frame>
            <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Copy Application Credentials" src="/images/googleworkspace/image12.png" />
        </Frame>
    </Step>
</Steps>

## Configure OAuth Consent

Google requires configuring a consent screen to be displayed when granting application access to your account.

<Steps>
    <Step title="Go to OAuth Consent Screen Setup">
        After enabling the Admin SDK API, click **APIs & Services > OAuth consent screen** in the left navigation menu.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Go to OAuth Consent Screen Setup" src="/images/googleworkspace/image13.png" />
    </Step>

    <Step title="Select User Type">
        Under *User Type* select **Internal**, then click the **Create** button.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Select User Type" src="/images/googleworkspace/image14.png" />
    </Step>

    <Step title="Enter Application Information">
        Under *Edit app registration*, enter the following required details:

        *App information*
        - App name: Enter a name for the new application
        - User support email: Your Google Workspace account email
        
        *Authorized domains*
        - Authorized domain 1: Enter the **Domain** you copied in a [previous step](#get-your-google-workspace-domain). *Example: my-org.com*

        *Developer contact information*
        - Email addresses: Your Google Workspace account email

        Then click the **Save and Continue** button to proceed.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Enter Application Information" src="/images/googleworkspace/image15.png" />
    </Step>

    <Step title="Select Required Application Scopes">
        Click the **Add or Remove Scopes** button, and a popout window will appear on the right titled *Update selected scopes*.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Add Scopes Button" src="/images/googleworkspace/image16.png" />

        Enable the following scopes which are required for full functionality of this integration:

        - `https://www.googleapis.com/auth/admin.directory.group.readonly`
        - `https://www.googleapis.com/auth/admin.directory.group.member.readonly`
        - `https://www.googleapis.com/auth/admin.directory.user.readonly`
        - `https://www.googleapis.com/auth/admin.directory.orgunit.readonly`
        - `https://www.googleapis.com/auth/admin.directory.rolemanagement.readonly`

        You can copy and paste each scope into the **Filter** bar to quickly locate them.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Select Scopes" src="/images/googleworkspace/image17.png" />

        Once all five scopes have been enabled, click the **Update** button to proceed.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Update Scopes Button" src="/images/googleworkspace/image18.png" />
    </Step>

    <Step title="Complete Scope Selection">
        Confirm that each of the required scopes is listed under *Your sensitive scopes*.

        Then click the **Save and Continue** button to proceed.

        <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Complete Scope Selection" src="/images/googleworkspace/image19.png" />
    </Step>
</Steps>


## Connecting with StackOne

<Steps>
  <Step title="Enter Credentials">
    Upon reaching the Link Account page, enter the credentials from the previous steps:
    - **Domain**
    - **Client ID**
    - **Client Secret**
    - **Scopes** - If you selected only the required scopes in the previous steps, leave the default value for this field. Otherwise, enter the space-separated list of scopes granted to your application.

    Proceed by clicking the Connect button.

    <Frame>
      <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Enter Credentials" src="/images/googleworkspace/image20.png" />
    </Frame>
  </Step>

  <Step title="Grant OAuth Application Consent">
    A window will appear and may prompt you to log in to your Google Workspace account.

    After logging in, you will be displayed the OAuth consent screen you configured in a [previous step](#configure-oauth-consent).

    Click the **Allow** button to grant the application access to your Google Workspace account.

        <Frame>
      <img className='rounded-md' style={{ margin: '0 auto', border: '1px solid #efefef' }} alt="Grant OAuth Application Consent" src="/images/googleworkspace/image21.png" />
    </Frame>
  </Step>
</Steps>

<IntegrationFooter />

## Available data

This integration has the following [IAM Resources](https://docs.stackone.com/reference/getting-started-with-your-api) available from the provider:
<ul>
 <li>Users</li>
 <li>Groups</li>
 <li>Roles</li>

</ul>

## Useful Links
<Card title="Google Workspace Admin SDK API Scopes" icon="link" href="https://developers.google.com/identity/protocols/oauth2/scopes#admin-directory">
    https://developers.google.com/identity/protocols/oauth2/scopes#admin-directory
</Card>